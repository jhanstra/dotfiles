/*
    Install Karabiner and then add this file to ~/.config/karabiner/karabiner.json
    The purpose of this is to map caps lock to escape when tapped, but mapped to ctrl when held
    https://www.saltycrane.com/blog/2017/07/how-map-caps-lock-escape-when-tapped-and-control-when-held-mac-os-sierra/
*/

{
  "global": {
      "check_for_updates_on_startup": true,
      "show_in_menu_bar": true,
      "show_profile_name_in_menu_bar": false
  },
  "profiles": [
      {
          "complex_modifications": {
              "parameters": {
                  "basic.to_if_alone_timeout_milliseconds": 250
              },
              "rules": [
                  {
                      "manipulators": [
                          {
                              "description": "Change caps_lock to control when used as modifier, escape when used alone",
                              "from": {
                                  "key_code": "caps_lock",
                                  "modifiers": {
                                      "optional": [
                                          "any"
                                      ]
                                  }
                              },
                              "to": [
                                  {
                                      "key_code": "left_control"
                                  }
                              ],
                              "to_if_alone": [
                                  {
                                      "key_code": "escape",
                                      "modifiers": {
                                          "optional": [
                                              "any"
                                          ]
                                      }
                                  }
                              ],
                              "type": "basic"
                          }
                      ]
                  }
              ]
          },
          "devices": [],
          "fn_function_keys": {
              "f1": "display_brightness_decrement",
              "f10": "mute",
              "f11": "volume_decrement",
              "f12": "volume_increment",
              "f2": "display_brightness_increment",
              "f3": "mission_control",
              "f4": "launchpad",
              "f5": "illumination_decrement",
              "f6": "illumination_increment",
              "f7": "rewind",
              "f8": "play_or_pause",
              "f9": "fastforward"
          },
          "name": "Default profile",
          "selected": true,
          "virtual_hid_keyboard": {
              "caps_lock_delay_milliseconds": 0,
              "keyboard_type": "ansi"
          }
      }
  ]
}